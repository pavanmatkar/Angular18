<mat-card class="feedback-card mat-elevation-z8">
  <mat-card-header>
    <mat-icon aria-hidden="false" aria-label="feedback">feedback</mat-icon>
    <mat-card-title>Send Feedback</mat-card-title>
    <mat-card-subtitle>Weâ€™d love to hear from you</mat-card-subtitle>
  </mat-card-header>

  <mat-card-content>
    <form [formGroup]="feedbackForm" (ngSubmit)="submit()" class="feedback-form">
      <div class="row">
        <mat-form-field appearance="outline" class="full">
          <mat-label>Name</mat-label>
          <input matInput formControlName="name" placeholder="Your name" />
          <mat-error *ngIf="f.name.hasError('required')">Name is required</mat-error>
          <mat-error *ngIf="f.name.hasError('minlength')">At least 2 characters</mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" class="full">
          <mat-label>Email</mat-label>
          <input matInput formControlName="email" placeholder="you@example.com" />
          <mat-error *ngIf="f.email.hasError('required')">Email is required</mat-error>
          <mat-error *ngIf="f.email.hasError('email')">Invalid email</mat-error>
        </mat-form-field>
      </div>

      <div class="row">
        <mat-form-field appearance="outline" class="half">
          <mat-label>Category</mat-label>
          <mat-select formControlName="category">
            <mat-option *ngFor="let c of categories" [value]="c.value">{{ c.viewValue }}</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-radio-group class="rating-group" formControlName="rating" aria-label="rating">
          <label class="rating-label">Rating</label>
          <mat-radio-button *ngFor="let r of [1,2,3,4,5]" [value]="r">{{ r }}</mat-radio-button>
        </mat-radio-group>
      </div>

      <mat-form-field appearance="outline" class="full">
        <mat-label>Message</mat-label>
        <textarea matInput formControlName="message" rows="5" placeholder="Tell us what you think"></textarea>
        <mat-error *ngIf="f.message.hasError('required')">Message is required</mat-error>
        <mat-error *ngIf="f.message.hasError('minlength')">Write at least 10 characters</mat-error>
      </mat-form-field>

      <div class="actions">
        <button mat-stroked-button type="button" (click)="feedbackForm.reset({category:'general', rating:5})">
          Reset
        </button>
        <button mat-flat-button color="primary" type="submit" [disabled]="feedbackForm.invalid">
          <mat-icon>send</mat-icon> Submit
        </button>
      </div>
    </form>
  </mat-card-content>
</mat-card>
